# Bedrock: AI å¢å¼ºå‹åŠ å¯†è´§å¸äº¤æ˜“å†³ç­–å¹³å°
# AI-Enhanced Cryptocurrency Trading Decision Platform

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![Python 3.12](https://img.shields.io/badge/python-3.12-blue.svg)](https://www.python.org/downloads/)
[![React 18](https://img.shields.io/badge/react-18.2.0-blue.svg)](https://reactjs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-green.svg)](https://fastapi.tiangolo.com/)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹ (Project Overview)

Bedrock æ˜¯ä¸€ä¸ª**ä»é›¶åˆ°ä¸€ã€å®Œå…¨é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤é©±åŠ¨ AI æ„å»º**çš„ä¸“ä¸šçº§é‡åŒ–äº¤æ˜“å¹³å°åŸå‹ã€‚æœ¬é¡¹ç›®æ—¨åœ¨éªŒè¯åœ¨æ— ç¼–ç¨‹èƒŒæ™¯ä¸‹ï¼Œé€šè¿‡é«˜æ•ˆçš„**äººæœºåä½œï¼ˆAI Native Workflowï¼‰**å®Œæˆå¤æ‚è½¯ä»¶å·¥ç¨‹çš„å¯è¡Œæ€§ã€‚

**ä½œä¸ºé¡¹ç›®å‘èµ·äººå’Œå”¯ä¸€çš„ AI äº§å“è®¾è®¡å¸ˆï¼Œæˆ‘ç‹¬ç«‹è´Ÿè´£äº†ä»äº§å“è§„åˆ’ã€æ¶æ„è®¾è®¡ã€ä»»åŠ¡æ‹†è§£åˆ°é©±åŠ¨ AI å¼€å‘çš„å…¨è¿‡ç¨‹ã€‚**

> **ğŸ’¼ æ±‚èŒå¤‡æ³¨**: æ­¤ä»“åº“ä¸ä»…æ˜¯è½¯ä»¶ä»£ç çš„é›†åˆï¼Œæ›´æ˜¯æˆ‘ä½œä¸ºä¸€åå‡†äº§å“äººï¼Œåœ¨**å¤æ‚é—®é¢˜æ‹†è§£ã€äº§å“æ¶æ„è®¾è®¡ã€AI åŸç”Ÿå·¥ä½œæµç®¡ç†**ç­‰æ ¸å¿ƒèƒ½åŠ›ä¸Šçš„å®è·µæ¡ˆä¾‹ã€‚æ¬¢è¿é€šè¿‡æ­¤é¡¹ç›®äº†è§£æˆ‘çš„å·¥ä½œæ–¹æ³•å’Œäº¤ä»˜è´¨é‡ã€‚

---

## ğŸ¯ é¡¹ç›®æ ¸å¿ƒä»·å€¼ (Core Value)

### èƒ½åŠ›éªŒè¯ (Capability Validation)
- âœ… **äº§å“æ€ç»´**: å°†æ¨¡ç³Šçš„å•†ä¸šæ„æƒ³è½¬åŒ–ä¸ºæ¸…æ™°ã€å¯æ‰§è¡Œçš„æŠ€æœ¯è“å›¾
- âœ… **æ¶æ„è®¾è®¡**: ä¸»å¯¼è®¾è®¡äº†åŒ…å« 6 ä¸ªå¾®æœåŠ¡çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„
- âœ… **ä»»åŠ¡æ‹†è§£**: å°†å¤æ‚é¡¹ç›®æ‹†è§£ä¸º 100+ ä¸ªå¯æ‰§è¡Œçš„å¼€å‘ä»»åŠ¡
- âœ… **AI åä½œ**: æ¢ç´¢å¹¶å®è·µäº†ä¸€å¥—å®Œæ•´çš„ AI åŸç”Ÿå·¥ä½œæµï¼ŒæˆåŠŸé©±åŠ¨ AI å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘

### æˆæœäº¤ä»˜ (Deliverables)
- ğŸ“Š **20+ ä»½ä¸“ä¸šæŠ€æœ¯æ–‡æ¡£**: åŒ…æ‹¬ PRDã€ç³»ç»Ÿæ¶æ„ã€API å¥‘çº¦ã€æ•°æ®åº“è®¾è®¡ç­‰
- ğŸ’» **å¯è¿è¡Œçš„è½¯ä»¶åŸå‹**: åŒ…å«å‰åç«¯ã€æ•°æ®åº“ã€ML æ¨¡å‹çš„å®Œæ•´ç³»ç»Ÿ
- ğŸ—ï¸ **å¾®æœåŠ¡æ¶æ„**: 6 ä¸ªç‹¬ç«‹æœåŠ¡ï¼Œäº‹ä»¶é©±åŠ¨é€šä¿¡ï¼Œå®¹å™¨åŒ–éƒ¨ç½²
- ğŸ¤– **AI é›†æˆ**: Rule Engine + XGBoost ML + Qwen LLM ä¸‰å±‚å†³ç­–ç³»ç»Ÿ

### æŠ€æœ¯äº®ç‚¹ (Technical Highlights)
- ğŸ¨ **å¾®æœåŠ¡æ¶æ„**: DataHubã€DecisionEngineã€Portfolioã€Backtestingã€MLOpsã€Notification
- ğŸ§  **ä¸‰å±‚å†³ç­–ç³»ç»Ÿ**: è§„åˆ™å¼•æ“ï¼ˆæŠ€æœ¯æŒ‡æ ‡ï¼‰+ ML æ¨¡å‹ï¼ˆXGBoost 94.33% å‡†ç¡®ç‡ï¼‰+ LLM æƒ…ç»ªåˆ†æï¼ˆQwenï¼‰
- ğŸ“ˆ **å®æ—¶æ•°æ®å¤„ç†**: Binance Kçº¿æ•°æ® + Bitquery é“¾ä¸Šæ•°æ®
- ğŸ”„ **äº‹ä»¶é©±åŠ¨æ¶æ„**: Redis Pub/Sub å®ç°æœåŠ¡é—´å¼‚æ­¥é€šä¿¡
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²**: Docker Compose æœ¬åœ°å¼€å‘ï¼ŒKubernetes ç”Ÿäº§éƒ¨ç½²
- ğŸ“Š **å¯è§‚æµ‹æ€§**: Prometheus ç›‘æ§ + ç»“æ„åŒ–æ—¥å¿— + å¥åº·æ£€æŸ¥

---

## ğŸ—ºï¸ å¯¼èˆªï¼šå¦‚ä½•æµè§ˆæœ¬é¡¹ç›®ï¼Ÿ (How to Navigate This Repository)

ä¸ºäº†æ–¹ä¾¿æ‚¨å¿«é€Ÿäº†è§£æˆ‘çš„å·¥ä½œæˆæœï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºæŸ¥çœ‹å…³é”®äº¤ä»˜ç‰©ï¼š

### 1ï¸âƒ£ äº§å“ä¸æ¶æ„è®¾è®¡
- **[é¡¹ç›®è®¡åˆ’ä¹¦ (Project Plan)](./2.md)** â­ æ ¸å¿ƒæ–‡æ¡£
  - æŸ¥çœ‹å®Œæ•´çš„äº§å“æ„¿æ™¯ã€æ¶æ„åŸåˆ™ã€åŠŸèƒ½è§„åˆ’
  - äº†è§£æˆ‘å¦‚ä½•å°†å•†ä¸šéœ€æ±‚è½¬åŒ–ä¸ºæŠ€æœ¯æ–¹æ¡ˆ

- **[ç³»ç»Ÿæ¶æ„å›¾ (System Architecture)](./2.md#21-é«˜é˜¶ç³»ç»Ÿæ¶æ„å›¾æ–‡å­—æè¿°)**
  - æŸ¥çœ‹æˆ‘ä¸»å¯¼è®¾è®¡çš„å¾®æœåŠ¡æ¶æ„å’Œæ•°æ®æµ
  - ç†è§£æœåŠ¡é—´çš„äº¤äº’æ¨¡å¼å’ŒæŠ€æœ¯é€‰å‹

### 2ï¸âƒ£ æŠ€æœ¯å®ç°
- **[æ•°æ®åº“è¿ç§»è„šæœ¬ (Database Migrations)](./database_migrations/alembic/versions/)**
  - æŸ¥çœ‹ 8 ä¸ª Alembic è¿ç§»è„šæœ¬ï¼Œäº†è§£æ•°æ®åº“æ¼”è¿›è¿‡ç¨‹
  - æ ¸å¿ƒè¡¨ï¼š`klines`ã€`onchain_metrics`ã€`signals`ã€`positions`ã€`trades`ã€`backtest_runs`

- **[API å®ç° (API Implementation)](./services/)**
  - **DataHub Service**: æ•°æ®é‡‡é›†ä¸å­˜å‚¨ ([ä»£ç ](./services/datahub/))
  - **DecisionEngine Service**: ä¿¡å·ç”Ÿæˆä¸å†³ç­–ä»²è£ ([ä»£ç ](./services/decision_engine/))
  - **Portfolio Service**: ä»“ä½ä¸äº¤æ˜“ç®¡ç† ([ä»£ç ](./services/portfolio/))
  - **Backtesting Service**: ç­–ç•¥å›æµ‹å¼•æ“ ([ä»£ç ](./services/backtesting/))

- **[å‰ç«¯åº”ç”¨ (Frontend App)](./webapp/)**
  - React + TypeScript + Ant Design 5
  - åŒ…å« Dashboardã€Signalsã€Positionsã€Tradesã€Backtest é¡µé¢

### 3ï¸âƒ£ AI åä½œå·¥ä½œæµ
- **[AI æŒ‡ä»¤ä»»åŠ¡æ‹†è§£ç¤ºä¾‹](./2.md#ç¬¬ä¸‰éƒ¨åˆ†åŠŸèƒ½ç‚¹è¯¦ç»†è®¾è®¡-the-what)**
  - æŸ¥çœ‹æˆ‘å¦‚ä½•å°†å¤æ‚éœ€æ±‚æ‹†è§£ä¸º AI å¯ç†è§£çš„å…·ä½“æŒ‡ä»¤
  - äº†è§£æˆ‘çš„ Prompt Engineering èƒ½åŠ›

- **[æŠ€æœ¯æ–‡æ¡£ (Technical Docs)](./docs/)**
  - Funding Rate ç­–ç•¥æ–‡æ¡£
  - ML æ¨¡å‹ç‰¹å¾å·¥ç¨‹æ–‡æ¡£
  - ä¾èµ–é—®é¢˜æ’æŸ¥æŒ‡å—

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆä¸å·¥å…· (Tech Stack & Tools)

### AI æ¨¡å‹ (AI Models)
- **LLM**: Alibaba Cloud Qwen (é€šä¹‰åƒé—®) - å¸‚åœºæƒ…ç»ªåˆ†æ
- **ML**: XGBoost 2.1.4 - ä¿¡å·é¢„æµ‹ï¼ˆ94.33% å‡†ç¡®ç‡ï¼‰
- **åä½œå·¥å…·**: Claude 3.5 Sonnet, GPT-4 - AI é©±åŠ¨å¼€å‘

### åç«¯æŠ€æœ¯æ ˆ (Backend)
- **è¯­è¨€**: Python 3.12.12
- **æ¡†æ¶**: FastAPI 0.104.1 (å¼‚æ­¥ Web æ¡†æ¶)
- **ORM**: SQLAlchemy 2.0.23 (æ•°æ®åº“ ORM)
- **æ•°æ®åº“**: PostgreSQL 16 (ä¸»æ•°æ®åº“) + Redis 7 (ç¼“å­˜ & Pub/Sub)
- **ML åº“**: XGBoost 2.1.4, scikit-learn 1.5.2, numpy 2.2.6, pandas 2.3.2
- **è¿ç§»å·¥å…·**: Alembic (æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†)

### å‰ç«¯æŠ€æœ¯æ ˆ (Frontend)
- **æ¡†æ¶**: React 18.2.0 + TypeScript 5.x
- **UI åº“**: Ant Design 5.11.0
- **çŠ¶æ€ç®¡ç†**: React Query v5 (@tanstack/react-query)
- **å›¾è¡¨åº“**: ECharts (Kçº¿å›¾ã€æ€§èƒ½å›¾è¡¨)
- **æ„å»ºå·¥å…·**: Vite 5.x

### åŸºç¡€è®¾æ–½ (Infrastructure)
- **å®¹å™¨åŒ–**: Docker 20.10+, Docker Compose 2.0+
- **ç¼–æ’**: Kubernetes (ç”Ÿäº§ç¯å¢ƒ)
- **ç›‘æ§**: Prometheus + Grafana
- **æ—¥å¿—**: ç»“æ„åŒ–æ—¥å¿— (JSON æ ¼å¼)
- **CI/CD**: GitHub Actions (è®¡åˆ’ä¸­)

### å¤–éƒ¨ API (External APIs)
- **äº¤æ˜“æ‰€**: Binance API (Kçº¿æ•°æ®ã€èµ„é‡‘è´¹ç‡)
- **é“¾ä¸Šæ•°æ®**: Bitquery API (é“¾ä¸ŠæŒ‡æ ‡)
- **LLM**: Alibaba Cloud Qwen API (dashscope 1.14.0)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ (System Architecture)

### å¾®æœåŠ¡æ¶æ„ (Microservices Architecture)

æœ¬é¡¹ç›®é‡‡ç”¨**äº‹ä»¶é©±åŠ¨çš„å¾®æœåŠ¡æ¶æ„**ï¼Œ6 ä¸ªç‹¬ç«‹æœåŠ¡é€šè¿‡ Redis Pub/Sub è¿›è¡Œå¼‚æ­¥é€šä¿¡ï¼š

| æœåŠ¡åç§° | ç«¯å£ | èŒè´£ | æŠ€æœ¯æ ˆ |
|---------|------|------|--------|
| **DataHub** | 8001 | æ•°æ®é‡‡é›†ä¸å­˜å‚¨ | FastAPI + Binance API + Bitquery API |
| **DecisionEngine** | 8002 | ä¿¡å·ç”Ÿæˆä¸å†³ç­–ä»²è£ | FastAPI + XGBoost + Qwen LLM |
| **Portfolio** | 8003 | ä»“ä½ä¸äº¤æ˜“ç®¡ç† | FastAPI + SQLAlchemy |
| **Backtesting** | 8004 | ç­–ç•¥å›æµ‹å¼•æ“ | FastAPI + Pandas |
| **MLOps** | 8005 | æ¨¡å‹è®­ç»ƒä¸ç®¡ç† | FastAPI + Celery + XGBoost |
| **Notification** | 8006 | å®æ—¶ WebSocket æ¨é€ | FastAPI + WebSocket |

### äº‹ä»¶é©±åŠ¨é€šä¿¡ (Event-Driven Communication)

æœåŠ¡é—´é€šè¿‡ **Redis Pub/Sub** è¿›è¡Œå¼‚æ­¥é€šä¿¡ï¼Œå®ç°æ¾è€¦åˆï¼š

```
DataHub â†’ [kline.updated] â†’ DecisionEngine
DecisionEngine â†’ [signal.created] â†’ Portfolio
Portfolio â†’ [position.updated] â†’ Notification â†’ WebApp
```

### ä¸‰å±‚å†³ç­–ç³»ç»Ÿ (Three-Layer Decision System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DecisionEngine                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1ï¸âƒ£ Rule Engine (è§„åˆ™å¼•æ“)                              â”‚
â”‚     - æŠ€æœ¯æŒ‡æ ‡: RSI, MACD, Bollinger Bands              â”‚
â”‚     - é“¾ä¸ŠæŒ‡æ ‡: Active Addresses, Transaction Volume    â”‚
â”‚     - è¾“å‡º: rule_score (0-100)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2ï¸âƒ£ ML Model (æœºå™¨å­¦ä¹ æ¨¡å‹)                             â”‚
â”‚     - XGBoost åˆ†ç±»å™¨ (94.33% å‡†ç¡®ç‡)                    â”‚
â”‚     - ç‰¹å¾å·¥ç¨‹: 60+ æŠ€æœ¯æŒ‡æ ‡ + é“¾ä¸ŠæŒ‡æ ‡                  â”‚
â”‚     - è¾“å‡º: ml_confidence_score (0-100)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3ï¸âƒ£ LLM Sentiment (å¤§è¯­è¨€æ¨¡å‹æƒ…ç»ªåˆ†æ)                   â”‚
â”‚     - Qwen API å¸‚åœºæƒ…ç»ªåˆ†æ                             â”‚
â”‚     - Redis ç¼“å­˜ (15åˆ†é’Ÿ TTL)                           â”‚
â”‚     - è¾“å‡º: llm_sentiment_score (0-100)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ Decision Arbiter (å†³ç­–ä»²è£å™¨)                        â”‚
â”‚     - åŠ æƒèåˆ: Rule 40% + ML 30% + LLM 30%            â”‚
â”‚     - è¾“å‡º: final_score (0-100) + äº¤æ˜“ä¿¡å·              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š é¡¹ç›®çŠ¶æ€ (Project Status)

### å¼€å‘é˜¶æ®µ (Development Phases)

| é˜¶æ®µ | çŠ¶æ€ | å®Œæˆåº¦ | å…³é”®æˆæœ |
|------|------|--------|----------|
| **Phase 0: ç¯å¢ƒæ­å»º** | âœ… å·²å®Œæˆ | 100% | Docker ç¯å¢ƒã€æ•°æ®åº“è®¾è®¡ã€å…±äº«åº“ |
| **Phase 1: MVP å¼€å‘** | âœ… å·²å®Œæˆ | 100% | DataHubã€DecisionEngineã€Portfolio æœåŠ¡ |
| **Phase 2: AI é›†æˆ** | âœ… å·²å®Œæˆ | 100% | XGBoost ML æ¨¡å‹ã€Qwen LLMã€å†³ç­–ä»²è£å™¨ |
| **Phase 3: å›æµ‹ä¸ä¼˜åŒ–** | ğŸš§ è¿›è¡Œä¸­ | 60% | å›æµ‹å¼•æ“ã€å‰ç«¯å¢å¼ºã€æ€§èƒ½ä¼˜åŒ– |
| **Phase 4: ç”Ÿäº§å°±ç»ª** | â¸ï¸ è®¡åˆ’ä¸­ | 0% | MLOps è‡ªåŠ¨åŒ–ã€Kubernetes éƒ¨ç½²ã€CI/CD |

### æ ¸å¿ƒåŠŸèƒ½å®Œæˆæƒ…å†µ (Feature Completion)

- âœ… **æ•°æ®é‡‡é›†**: Binance Kçº¿æ•°æ® + Bitquery é“¾ä¸Šæ•°æ®
- âœ… **è§„åˆ™å¼•æ“**: æŠ€æœ¯æŒ‡æ ‡è®¡ç®— + é“¾ä¸ŠæŒ‡æ ‡åˆ†æ
- âœ… **ML æ¨¡å‹**: XGBoost è®­ç»ƒä¸é¢„æµ‹ï¼ˆ94.33% å‡†ç¡®ç‡ï¼‰
- âœ… **LLM é›†æˆ**: Qwen API æƒ…ç»ªåˆ†æ + Redis ç¼“å­˜
- âœ… **å†³ç­–ä»²è£**: ä¸‰å±‚åŠ æƒèåˆï¼ˆRule + ML + LLMï¼‰
- âœ… **ä»“ä½ç®¡ç†**: å»ºä»“ã€å¹³ä»“ã€æ­¢æŸã€æ­¢ç›ˆé€»è¾‘
- âœ… **å‰ç«¯ç•Œé¢**: Dashboardã€Signalsã€Positionsã€Trades é¡µé¢
- ğŸš§ **å›æµ‹å¼•æ“**: åŸºç¡€æ¡†æ¶å®Œæˆï¼Œæ€§èƒ½ä¼˜åŒ–ä¸­
- â¸ï¸ **å®æ—¶æ¨é€**: WebSocket é€šçŸ¥æœåŠ¡ï¼ˆè®¡åˆ’ä¸­ï¼‰
- â¸ï¸ **MLOps**: æ¨¡å‹è‡ªåŠ¨è®­ç»ƒä¸éƒ¨ç½²ï¼ˆè®¡åˆ’ä¸­ï¼‰

### æœ€è¿‘æ›´æ–° (Recent Updates)

- **2025-11-17**: âœ… å®Œæˆ LLM æƒ…ç»ªåˆ†æ•°å›å¡«ï¼ˆ22 æ¡å†å²ä¿¡å·ï¼‰
- **2025-11-16**: âœ… å®ç°å†³ç­–ä»²è£å™¨æƒé‡é…ç½®ï¼ˆRule 40% + ML 30% + LLM 30%ï¼‰
- **2025-11-12**: âœ… é›†æˆ Qwen LLM API + Redis ç¼“å­˜
- **2025-11-11**: âœ… XGBoost æ¨¡å‹è®­ç»ƒå®Œæˆï¼ˆ94.33% å‡†ç¡®ç‡ï¼‰
- **2025-11-10**: âœ… æ•°æ®åº“è¿ç§»è„šæœ¬å®Œæˆï¼ˆ8 ä¸ª Alembic ç‰ˆæœ¬ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### å‰ç½®è¦æ±‚ (Prerequisites)

- **Docker** 20.10+ å’Œ **Docker Compose** 2.0+
- **Python** 3.12+ (ç”¨äºæœ¬åœ°å¼€å‘å’Œè„šæœ¬)
- **Node.js** 18+ (ç”¨äºå‰ç«¯å¼€å‘)
- **Git** 2.x+

### å®‰è£…æ­¥éª¤ (Installation)

#### 1ï¸âƒ£ å…‹éš†ä»“åº“
```bash
git clone https://github.com/w2112515/Bedrock.git
cd Bedrock
```

#### 2ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹ API å¯†é’¥ï¼š
# - BINANCE_API_KEY å’Œ BINANCE_API_SECRET (Binance API)
# - BITQUERY_API_KEY (Bitquery API)
# - QWEN_API_KEY (Alibaba Cloud Qwen API)
# - POSTGRES_PASSWORD (æ•°æ®åº“å¯†ç )
```

#### 3ï¸âƒ£ å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡
```bash
docker-compose up -d postgres redis
```

#### 4ï¸âƒ£ è¿è¡Œæ•°æ®åº“è¿ç§»
```bash
cd database_migrations
pip install alembic psycopg2-binary
alembic upgrade head
```

#### 5ï¸âƒ£ å¯åŠ¨æ‰€æœ‰å¾®æœåŠ¡
```bash
docker-compose up -d
```

#### 6ï¸âƒ£ è®¿é—®åº”ç”¨
- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **API æ–‡æ¡£**:
  - DataHub: http://localhost:8001/docs
  - DecisionEngine: http://localhost:8002/docs
  - Portfolio: http://localhost:8003/docs
  - Backtesting: http://localhost:8004/docs

### éªŒè¯å®‰è£… (Verify Installation)

```bash
# æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
curl http://localhost:8001/health  # DataHub
curl http://localhost:8002/health  # DecisionEngine
curl http://localhost:8003/health  # Portfolio

# æŸ¥çœ‹æ•°æ®åº“è¡¨
docker exec -it bedrock_postgres psql -U bedrock_user -d bedrock_db -c "\dt"

# æŸ¥çœ‹ Redis è¿æ¥
docker exec -it bedrock_redis redis-cli ping
```

---

## ğŸ“š æ ¸å¿ƒæ–‡æ¡£ (Core Documentation)

### äº§å“ä¸æ¶æ„æ–‡æ¡£ (Product & Architecture)
- **[é¡¹ç›®è®¡åˆ’ä¹¦ v2.0](./2.md)** â­ æ ¸å¿ƒæ–‡æ¡£ - å®Œæ•´çš„äº§å“æ„¿æ™¯ã€æ¶æ„åŸåˆ™ã€åŠŸèƒ½è§„åˆ’
- **[Funding Rate ç­–ç•¥æ–‡æ¡£](./docs/FUNDING_RATE_STRATEGY.md)** - èµ„é‡‘è´¹ç‡ç­–ç•¥è®¾è®¡
- **[ML æ¨¡å‹ç‰¹å¾å·¥ç¨‹](./docs/ML_MODEL_FEATURES.md)** - æœºå™¨å­¦ä¹ æ¨¡å‹ç‰¹å¾è¯´æ˜

### æŠ€æœ¯æ–‡æ¡£ (Technical Docs)
- **[ä¾èµ–é—®é¢˜æ’æŸ¥æŒ‡å—](./TROUBLESHOOTING_DEPENDENCIES.md)** - Python 3.12 å‡çº§æŒ‡å—
- **[æ•°æ®åº“è¿ç§»è„šæœ¬](./database_migrations/alembic/versions/)** - 8 ä¸ª Alembic è¿ç§»ç‰ˆæœ¬
- **[DecisionEngine å®ç°æ€»ç»“](./services/decision_engine/IMPLEMENTATION_SUMMARY.md)** - å†³ç­–å¼•æ“å®ç°ç»†èŠ‚

### æœåŠ¡æ–‡æ¡£ (Service Docs)
- **[DataHub æµ‹è¯•æ€»ç»“](./services/datahub/tests/FINAL_TEST_SUMMARY.md)** - æ•°æ®æœåŠ¡æµ‹è¯•æŠ¥å‘Š
- **[æ¨¡å‹éƒ¨ç½²æŒ‡å—](./services/decision_engine/docs/MODEL_DEPLOYMENT_GUIDE.md)** - ML æ¨¡å‹éƒ¨ç½²æµç¨‹
- **[ç¨³å®šæ€§éªŒè¯æŒ‡å—](./services/decision_engine/docs/stability_validation_implementation.md)** - æ¨¡å‹ç¨³å®šæ€§éªŒè¯

---

## ğŸ§ª æµ‹è¯• (Testing)

### å•å…ƒæµ‹è¯• (Unit Tests)

```bash
# åç«¯æœåŠ¡æµ‹è¯•
pytest services/datahub/tests/ -v
pytest services/decision_engine/tests/ -v
pytest services/portfolio/tests/ -v
pytest services/backtesting/tests/ -v

# å‰ç«¯æµ‹è¯•
cd webapp
npm test
```

### é›†æˆæµ‹è¯• (Integration Tests)

```bash
# æµ‹è¯•å®Œæ•´çš„ä¿¡å·ç”Ÿæˆæµç¨‹
python scripts/create_test_signal_with_ml_llm.py

# éªŒè¯æ•°æ®ä¸€è‡´æ€§
python services/decision_engine/scripts/verify_data_consistency.py

# éªŒè¯æ¨¡å‹ç¡®å®šæ€§
python services/decision_engine/scripts/verify_determinism.py
```

### æ€§èƒ½æµ‹è¯• (Performance Tests)

```bash
# ä½¿ç”¨ Locust è¿›è¡Œè´Ÿè½½æµ‹è¯•
locust -f tests/performance/locustfile.py --host=http://localhost:8001
```

---

## ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º (Feature Showcase)

### 1ï¸âƒ£ ä¿¡å·ç”Ÿæˆæµç¨‹ (Signal Generation Flow)

```python
# 1. DataHub é‡‡é›†æ•°æ®
GET /api/klines?symbol=BTCUSDT&interval=4h&limit=100

# 2. DecisionEngine ç”Ÿæˆä¿¡å·
POST /api/signals/generate
{
  "symbol": "BTCUSDT",
  "interval": "4h"
}

# å“åº”ç¤ºä¾‹
{
  "signal_id": "uuid-xxx",
  "symbol": "BTCUSDT",
  "direction": "LONG",
  "rule_score": 75.5,           # è§„åˆ™å¼•æ“åˆ†æ•°
  "ml_confidence_score": 88.2,  # ML æ¨¡å‹ç½®ä¿¡åº¦
  "llm_sentiment_score": 82.0,  # LLM æƒ…ç»ªåˆ†æ•°
  "final_score": 81.9,          # åŠ æƒæœ€ç»ˆåˆ†æ•°
  "entry_price": 45000.0,
  "stop_loss": 44000.0,
  "take_profit": 47000.0
}
```

### 2ï¸âƒ£ å†³ç­–ä»²è£å™¨é…ç½® (Arbiter Configuration)

```python
# æŸ¥çœ‹å½“å‰æƒé‡é…ç½®
GET /api/arbitration/config

# å“åº”
{
  "rule_weight": 0.4,   # è§„åˆ™å¼•æ“æƒé‡ 40%
  "ml_weight": 0.3,     # ML æ¨¡å‹æƒé‡ 30%
  "llm_weight": 0.3     # LLM æƒé‡ 30%
}

# æ›´æ–°æƒé‡é…ç½®
PUT /api/arbitration/config
{
  "rule_weight": 0.5,
  "ml_weight": 0.3,
  "llm_weight": 0.2
}
```

### 3ï¸âƒ£ ä»“ä½ç®¡ç† (Position Management)

```python
# æŸ¥çœ‹å½“å‰ä»“ä½
GET /api/positions?status=OPEN

# å“åº”
[
  {
    "position_id": "uuid-xxx",
    "symbol": "BTCUSDT",
    "direction": "LONG",
    "entry_price": 45000.0,
    "current_price": 46000.0,
    "quantity": 0.1,
    "unrealized_pnl": 100.0,
    "unrealized_pnl_pct": 2.22
  }
]
```

---

## ğŸ“ æˆ‘çš„å·¥ä½œæ–¹æ³• (My Workflow)

### AI åŸç”Ÿå·¥ä½œæµ (AI Native Workflow)

ä½œä¸ºé¡¹ç›®çš„å”¯ä¸€äº§å“è®¾è®¡å¸ˆï¼Œæˆ‘å¼€å‘äº†ä¸€å¥—é«˜æ•ˆçš„ AI åä½œå·¥ä½œæµï¼š

#### 1ï¸âƒ£ éœ€æ±‚åˆ†æä¸æ‹†è§£ (Requirement Analysis)
- å°†æ¨¡ç³Šçš„å•†ä¸šéœ€æ±‚è½¬åŒ–ä¸ºæ¸…æ™°çš„åŠŸèƒ½ç‚¹
- ä½¿ç”¨ Mermaid å›¾è¡¨å¯è§†åŒ–ç³»ç»Ÿæ¶æ„å’Œæ•°æ®æµ
- ç¼–å†™è¯¦ç»†çš„ PRD å’ŒæŠ€æœ¯è§„æ ¼æ–‡æ¡£

#### 2ï¸âƒ£ ä»»åŠ¡æ‹†è§£ä¸ Prompt Engineering
- å°†å¤æ‚åŠŸèƒ½æ‹†è§£ä¸º 100+ ä¸ªå¯æ‰§è¡Œçš„å¼€å‘ä»»åŠ¡
- ä¸ºæ¯ä¸ªä»»åŠ¡ç¼–å†™æ¸…æ™°ã€å…·ä½“çš„ AI æŒ‡ä»¤
- ä½¿ç”¨ä¸‰é˜¶æ®µå·¥ä½œæµï¼šåˆ†æä¸è¯Šæ–­ â†’ æ–¹æ¡ˆè®¾è®¡ â†’ æ‰§è¡Œä¸éªŒè¯

#### 3ï¸âƒ£ AI é©±åŠ¨å¼€å‘ (AI-Driven Development)
- ä½¿ç”¨ Claude 3.5 Sonnet å’Œ GPT-4 è¿›è¡Œä»£ç ç”Ÿæˆ
- é€šè¿‡è¿­ä»£å¼å¯¹è¯ä¼˜åŒ–ä»£ç è´¨é‡
- ç¡®ä¿ä»£ç ç¬¦åˆæ¶æ„åŸåˆ™å’Œæœ€ä½³å®è·µ

#### 4ï¸âƒ£ è´¨é‡ä¿è¯ä¸æ–‡æ¡£ (Quality Assurance)
- ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ç”Ÿæˆ API æ–‡æ¡£å’ŒæŠ€æœ¯æ–‡æ¡£
- è¿›è¡Œä»£ç å®¡æŸ¥å’Œæ€§èƒ½ä¼˜åŒ–

### å…³é”®æˆæœ (Key Achievements)

- âœ… **100% AI é©±åŠ¨å¼€å‘**: æ‰€æœ‰ä»£ç ç”± AI ç”Ÿæˆï¼Œæˆ‘è´Ÿè´£éœ€æ±‚å®šä¹‰å’Œè´¨é‡æŠŠæ§
- âœ… **20+ ä»½ä¸“ä¸šæ–‡æ¡£**: åŒ…æ‹¬ PRDã€æ¶æ„è®¾è®¡ã€API å¥‘çº¦ã€æ•°æ®åº“è®¾è®¡ç­‰
- âœ… **284 ä¸ªæ–‡ä»¶ï¼Œ43,948 è¡Œä»£ç **: å®Œæ•´çš„å‰åç«¯ç³»ç»Ÿ
- âœ… **8 ä¸ªæ•°æ®åº“è¿ç§»è„šæœ¬**: è§„èŒƒçš„æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†
- âœ… **94.33% ML æ¨¡å‹å‡†ç¡®ç‡**: é«˜è´¨é‡çš„æœºå™¨å­¦ä¹ æ¨¡å‹
- âœ… **å¾®æœåŠ¡æ¶æ„**: 6 ä¸ªç‹¬ç«‹æœåŠ¡ï¼Œäº‹ä»¶é©±åŠ¨é€šä¿¡

---

## ğŸ“ è®¸å¯è¯ (License)

æœ¬é¡¹ç›®é‡‡ç”¨ **GPL v3** (GNU General Public License v3.0) è®¸å¯è¯ã€‚

- **ç‰ˆæƒæ‰€æœ‰è€…**: Zian Wang
- **ç‰ˆæƒå¹´ä»½**: 2025
- **è®¸å¯è¯è¯¦æƒ…**: æŸ¥çœ‹ [LICENSE](./LICENSE) æ–‡ä»¶

**æ³¨æ„**: GPL v3 è¦æ±‚æ‰€æœ‰è¡ç”Ÿä½œå“ä¹Ÿå¿…é¡»å¼€æºã€‚

---

## ğŸ“§ è”ç³»æ–¹å¼ (Contact)

### é¡¹ç›®ä½œè€… (Project Author)
- **å§“å**: Zian Wang (ç‹å­å®‰)
- **GitHub**: [@w2112515](https://github.com/w2112515)
- **é¡¹ç›®ä»“åº“**: [Bedrock](https://github.com/w2112515/Bedrock)

### æ±‚èŒæ„å‘ (Job Seeking)
æˆ‘æ­£åœ¨å¯»æ‰¾**äº§å“ç»ç†**ã€**AI äº§å“ç»ç†**æˆ–**æŠ€æœ¯äº§å“ç»ç†**ç›¸å…³èŒä½ã€‚

**æ ¸å¿ƒèƒ½åŠ›**:
- âœ… å¤æ‚é—®é¢˜æ‹†è§£ä¸éœ€æ±‚åˆ†æ
- âœ… äº§å“æ¶æ„è®¾è®¡ä¸æŠ€æœ¯é€‰å‹
- âœ… AI åŸç”Ÿå·¥ä½œæµç®¡ç†
- âœ… è·¨èŒèƒ½å›¢é˜Ÿåä½œï¼ˆäººæœºåä½œï¼‰
- âœ… æŠ€æœ¯æ–‡æ¡£æ’°å†™ä¸æ²Ÿé€š

**å¦‚æœæ‚¨å¯¹æˆ‘çš„å·¥ä½œæ„Ÿå…´è¶£ï¼Œæ¬¢è¿é€šè¿‡ GitHub Issues æˆ– Email è”ç³»æˆ‘ã€‚**

---

## ğŸ™ è‡´è°¢ (Acknowledgments)

### æŠ€æœ¯æ”¯æŒ (Technical Support)
- **Binance API** - æä¾›å®æ—¶å¸‚åœºæ•°æ®å’Œèµ„é‡‘è´¹ç‡æ•°æ®
- **Bitquery API** - æä¾›é“¾ä¸Šæ•°æ®å’ŒåŒºå—é“¾åˆ†æ
- **Alibaba Cloud Qwen** - æä¾›å¤§è¯­è¨€æ¨¡å‹ API æœåŠ¡
- **Claude 3.5 Sonnet & GPT-4** - AI é©±åŠ¨å¼€å‘çš„æ ¸å¿ƒå·¥å…·

### å¼€æºç¤¾åŒº (Open Source Community)
- **FastAPI** - é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶
- **React & Ant Design** - ä¼˜ç§€çš„å‰ç«¯æ¡†æ¶å’Œ UI åº“
- **XGBoost & scikit-learn** - å¼ºå¤§çš„æœºå™¨å­¦ä¹ åº“
- **PostgreSQL & Redis** - å¯é çš„æ•°æ®åº“å’Œç¼“å­˜ç³»ç»Ÿ
- **Docker & Kubernetes** - å®¹å™¨åŒ–å’Œç¼–æ’å·¥å…·

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡ (Project Statistics)

- **å¼€å‘å‘¨æœŸ**: 2025-11-09 è‡³ä»Šï¼ˆçº¦ 8 å¤©ï¼‰
- **ä»£ç è¡Œæ•°**: 43,948 è¡Œ
- **æ–‡ä»¶æ•°é‡**: 284 ä¸ª
- **æäº¤æ¬¡æ•°**: 1 æ¬¡ï¼ˆåˆå§‹æäº¤ï¼‰
- **æœåŠ¡æ•°é‡**: 6 ä¸ªå¾®æœåŠ¡
- **æ•°æ®åº“è¡¨**: 10+ ä¸ªæ ¸å¿ƒä¸šåŠ¡è¡¨
- **API ç«¯ç‚¹**: 50+ ä¸ª RESTful API
- **å‰ç«¯é¡µé¢**: 5 ä¸ªä¸»è¦é¡µé¢ï¼ˆDashboardã€Signalsã€Positionsã€Tradesã€Backtestï¼‰

---

## ğŸš€ æœªæ¥è§„åˆ’ (Future Roadmap)

### çŸ­æœŸç›®æ ‡ (Short-term Goals)
- [ ] å®Œæˆå›æµ‹å¼•æ“æ€§èƒ½ä¼˜åŒ–
- [ ] å®ç° WebSocket å®æ—¶æ¨é€
- [ ] æ·»åŠ æ›´å¤šæŠ€æœ¯æŒ‡æ ‡å’Œç­–ç•¥
- [ ] å®Œå–„å‰ç«¯ UI/UX

### ä¸­æœŸç›®æ ‡ (Mid-term Goals)
- [ ] MLOps è‡ªåŠ¨åŒ–ï¼ˆæ¨¡å‹è‡ªåŠ¨è®­ç»ƒä¸éƒ¨ç½²ï¼‰
- [ ] Kubernetes ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [ ] CI/CD æµæ°´çº¿ï¼ˆGitHub Actionsï¼‰
- [ ] å¤šäº¤æ˜“æ‰€æ”¯æŒï¼ˆOKXã€Bybitï¼‰

### é•¿æœŸç›®æ ‡ (Long-term Goals)
- [ ] ç¤¾åŒºç‰ˆæœ¬å‘å¸ƒ
- [ ] æ’ä»¶ç³»ç»Ÿï¼ˆè‡ªå®šä¹‰ç­–ç•¥ï¼‰
- [ ] ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆReact Nativeï¼‰
- [ ] é‡åŒ–ç­–ç•¥å¸‚åœº

---

**â­ å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰ä»·å€¼ï¼Œæ¬¢è¿ Star æ”¯æŒï¼**

**ğŸ“Œ æœ€åæ›´æ–°**: 2025-11-17

**ğŸ·ï¸ é¡¹ç›®æ ‡ç­¾**: `python` `fastapi` `react` `typescript` `xgboost` `llm` `cryptocurrency` `trading` `microservices` `ai-driven-development`
